<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ìŠ¤í…Œì´ì§€ & ì¥ë¥´ ì„ íƒ - Rewrite Moment</title>
  <link rel="stylesheet" href="styles.css">
  <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ¬</text></svg>">
</head>
<body>
  <div class="bg-pattern"></div>
  <div class="noise-overlay"></div>

  <!-- Navigation -->
  <nav class="nav">
    <div class="container nav-inner">
      <a href="index.html" class="nav-logo">
        <div class="nav-logo-icon">ğŸ¬</div>
        <span class="nav-logo-text">Rewrite Moment</span>
      </a>
      <ul class="nav-links">
        <li><a href="index.html#features" class="nav-link">ê¸°ëŠ¥</a></li>
        <li><a href="index.html#how" class="nav-link">ì´ìš©ë°©ë²•</a></li>
        <li><a href="pricing.html" class="nav-link">ê°€ê²©</a></li>
      </ul>
      <div class="nav-auth">
        <div class="nav-credits">
          <span class="nav-credits-icon">ğŸ’</span>
          <span class="nav-credits-value" id="creditBalance">0</span>
          <span style="color: var(--text-muted)">í¬ë ˆë”§</span>
        </div>
        <button class="btn-login" id="btn-open-login" onclick="openAuthModal('login')">ë¡œê·¸ì¸</button>
        <div class="user-menu hidden" id="user-menu">
          <div class="user-avatar" id="user-avatar" onclick="toggleUserDropdown()">U</div>
          <div class="user-dropdown" id="user-dropdown">
            <div class="user-dropdown-header">
              <div class="user-dropdown-name" id="user-name">ì‚¬ìš©ì</div>
              <div class="user-dropdown-email" id="user-email">user@email.com</div>
            </div>
            <div class="user-dropdown-menu">
              <a href="pricing.html" class="user-dropdown-item">ğŸ’ í¬ë ˆë”§ ì¶©ì „</a>
              <a href="#" class="user-dropdown-item">ğŸ“‹ ë‚´ ì˜ìƒ</a>
              <div class="user-dropdown-item logout" onclick="logout()">ğŸšª ë¡œê·¸ì•„ì›ƒ</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </nav>

  <!-- Main Content -->
  <main class="page" style="padding-top: 100px;">
    <div class="container container-sm">
      
      <!-- Progress Steps -->
      <div class="steps">
        <div class="step completed">
          <div class="step-number">âœ“</div>
          <span class="step-text">ì—…ë¡œë“œ</span>
        </div>
        <div class="step-line completed"></div>
        <div class="step active">
          <div class="step-number">2</div>
          <span class="step-text">ì„ íƒ</span>
        </div>
        <div class="step-line"></div>
        <div class="step">
          <div class="step-number">3</div>
          <span class="step-text">Rewrite</span>
        </div>
        <div class="step-line"></div>
        <div class="step">
          <div class="step-number">4</div>
          <span class="step-text">ê²°ê³¼</span>
        </div>
      </div>

      <!-- Page Header -->
      <div class="page-header" data-animate>
        <h1 class="page-title">
          ì–´ë–¤ <span class="text-gradient">ì´ì•¼ê¸°</span>ë¥¼<br>
          ë§Œë“¤ê¹Œìš”?
        </h1>
        <p class="page-subtitle">
          ë¼ì´í”„ ìŠ¤í…Œì´ì§€ì™€ ì¥ë¥´ë¥¼ ì„ íƒí•˜ê³ ,<br>
          ì›í•˜ëŠ” ë¶„ìœ„ê¸°ë¡œ ì¡°ì ˆí•´ë³´ì„¸ìš”.
        </p>
      </div>

      <!-- Mode Selection -->
      <section class="select-section" data-animate style="animation-delay: 0.1s">
        <h3 class="select-section-title">
          <span class="select-section-icon">ğŸ“¦</span>
          ê¸¸ì´ ì„ íƒ
        </h3>
        <div class="mode-cards">
          <label class="mode-card active">
            <input type="radio" name="mode" value="quick" checked>
            <div class="mode-badge free">ë¬´ë£Œ</div>
            <h4 class="mode-title">Quick Pack</h4>
            <div class="mode-duration">8ì´ˆ Ã— 3ê°œ í´ë¦½</div>
            <ul class="mode-features">
              <li>Hook + Main + Ending</li>
              <li>í•˜ë£¨ 1íŒ© ë¬´ë£Œ</li>
              <li>720p + ì›Œí„°ë§ˆí¬</li>
            </ul>
          </label>

          <label class="mode-card">
            <input type="radio" name="mode" value="story">
            <div class="mode-badge paid">2 í¬ë ˆë”§</div>
            <h4 class="mode-title">Story Pack</h4>
            <div class="mode-duration">15ì´ˆ Ã— 3ê°œ í´ë¦½</div>
            <ul class="mode-features">
              <li>ìƒí™©â†’ê°ì •â†’ì „í™˜ ë¹„íŠ¸</li>
              <li>í´ë¦½ë³„ ì¬ìƒì„±</li>
              <li>1080p + ì›Œí„°ë§ˆí¬ ì˜µì…˜</li>
            </ul>
          </label>

          <label class="mode-card">
            <input type="radio" name="mode" value="trailer">
            <div class="mode-badge premium">5 í¬ë ˆë”§</div>
            <h4 class="mode-title">Trailer</h4>
            <div class="mode-duration">45~60ì´ˆ Ã— 1ê°œ</div>
            <ul class="mode-features">
              <li>6~10ì¥ë©´ ì˜ˆê³ í¸</li>
              <li>íƒ€ì´í‹€/ë‚´ë ˆì´ì…˜</li>
              <li>1080p + ì›Œí„°ë§ˆí¬ ì˜µì…˜</li>
            </ul>
          </label>
        </div>
      </section>

      <!-- Stage Selection -->
      <section class="select-section" data-animate style="animation-delay: 0.2s">
        <h3 class="select-section-title">
          <span class="select-section-icon">ğŸ­</span>
          ë¼ì´í”„ ìŠ¤í…Œì´ì§€
        </h3>
        <div class="selection-grid stage-grid">
          <label class="selection-card active">
            <input type="radio" name="stage" value="teen" checked>
            <div class="selection-card-icon">ğŸ’</div>
            <div class="selection-card-title">ì²­ì†Œë…„</div>
            <div class="selection-card-desc">í•™êµ, ì¹œêµ¬, ì„±ì¥</div>
          </label>

          <label class="selection-card">
            <input type="radio" name="stage" value="twenties">
            <div class="selection-card-icon">ğŸ’¼</div>
            <div class="selection-card-title">20ëŒ€</div>
            <div class="selection-card-desc">ì²« ì‹œì‘, ë„ì „</div>
          </label>

          <label class="selection-card">
            <input type="radio" name="stage" value="newlywed">
            <div class="selection-card-icon">ğŸ’‘</div>
            <div class="selection-card-title">ì‹ í˜¼</div>
            <div class="selection-card-desc">ìƒˆ ì¶œë°œ, í•¨ê»˜</div>
          </label>

          <label class="selection-card">
            <input type="radio" name="stage" value="early_parenting">
            <div class="selection-card-icon">ğŸ‘¶</div>
            <div class="selection-card-title">ì´ˆê¸° ìœ¡ì•„</div>
            <div class="selection-card-desc">ì•„ì´ì™€ í•¨ê»˜</div>
          </label>
        </div>
      </section>

      <!-- Genre Selection -->
      <section class="select-section" data-animate style="animation-delay: 0.3s">
        <h3 class="select-section-title">
          <span class="select-section-icon">ğŸ¬</span>
          ì¥ë¥´
        </h3>
        <div class="selection-grid genre-grid">
          <label class="selection-card">
            <input type="radio" name="genre" value="docu">
            <div class="selection-card-icon">ğŸ“¹</div>
            <div class="selection-card-title">ë‹¤í</div>
            <div class="selection-card-desc">ë‹´ë°±í•œ ê¸°ë¡</div>
          </label>

          <label class="selection-card active">
            <input type="radio" name="genre" value="comedy" checked>
            <div class="selection-card-icon">ğŸ˜‚</div>
            <div class="selection-card-title">ì½”ë¯¸ë””</div>
            <div class="selection-card-desc">ìœ ì¾Œí•œ í•´í”„ë‹</div>
          </label>

          <label class="selection-card">
            <input type="radio" name="genre" value="drama">
            <div class="selection-card-icon">ğŸ­</div>
            <div class="selection-card-title">ë“œë¼ë§ˆ</div>
            <div class="selection-card-desc">ê°ì •ì˜ ì„œì‚¬</div>
          </label>

          <label class="selection-card">
            <input type="radio" name="genre" value="melo">
            <div class="selection-card-icon">ğŸ’•</div>
            <div class="selection-card-title">ë©œë¡œ</div>
            <div class="selection-card-desc">ë¡œë§¨í‹± ê°ì„±</div>
          </label>

          <label class="selection-card">
            <input type="radio" name="genre" value="fantasy">
            <div class="selection-card-icon">âœ¨</div>
            <div class="selection-card-title">íŒíƒ€ì§€</div>
            <div class="selection-card-desc">ìƒìƒì˜ ì„¸ê³„</div>
          </label>
        </div>
      </section>

      <!-- Sliders -->
      <section class="select-section" data-animate style="animation-delay: 0.4s">
        <h3 class="select-section-title">
          <span class="select-section-icon">ğŸšï¸</span>
          ë¶„ìœ„ê¸° ì¡°ì ˆ
        </h3>
        <div class="card">
          <!-- Realism Slider -->
          <div class="range-slider">
            <div class="range-slider-header">
              <span class="range-slider-label">í˜„ì‹¤ê°</span>
              <span class="range-slider-value" id="realismValue">60%</span>
            </div>
            <input type="range" id="realism" min="0" max="100" value="60">
            <div class="range-slider-labels">
              <span>ì˜í™”ì²˜ëŸ¼</span>
              <span>í˜„ì‹¤ì ìœ¼ë¡œ</span>
            </div>
          </div>

          <!-- Intensity Slider -->
          <div class="range-slider mt-lg">
            <div class="range-slider-header">
              <span class="range-slider-label">ê°•ë„</span>
              <span class="range-slider-value" id="intensityValue">40%</span>
            </div>
            <input type="range" id="intensity" min="0" max="100" value="40">
            <div class="range-slider-labels">
              <span>ìˆœí•œë§›</span>
              <span>ì§„í•œë§›</span>
            </div>
          </div>

          <!-- Pace Slider -->
          <div class="range-slider mt-lg">
            <div class="range-slider-header">
              <span class="range-slider-label">ì†ë„</span>
              <span class="range-slider-value" id="paceValue">70%</span>
            </div>
            <input type="range" id="pace" min="0" max="100" value="70">
            <div class="range-slider-labels">
              <span>ëŠë¦¬ê²Œ</span>
              <span>ë¹ ë¥´ê²Œ</span>
            </div>
          </div>
        </div>
      </section>

      <!-- Cost Summary -->
      <div class="cost-summary mt-xl" data-animate style="animation-delay: 0.5s">
        <div class="cost-summary-inner">
          <div class="cost-item">
            <span class="cost-label">ì„ íƒí•œ íŒ©</span>
            <span class="cost-value" id="selectedPack">Quick Pack (ë¬´ë£Œ)</span>
          </div>
          <div class="cost-item cost-total">
            <span class="cost-label">í•„ìš” í¬ë ˆë”§</span>
            <span class="cost-value" id="totalCost">0</span>
          </div>
        </div>
        <div class="cost-note" id="costNote">
          <span>âœ“</span> ë¬´ë£Œ Quick Packì€ í•˜ë£¨ 1íŒ© ì œí•œì´ ìˆì–´ìš”
        </div>
      </div>

      <!-- Actions -->
      <div class="actions-row mt-xl" data-animate style="animation-delay: 0.6s">
        <a href="upload.html" class="btn btn-ghost">
          â† ì´ì „
        </a>
        <button class="btn btn-primary btn-lg" id="nextBtn">
          ë‹¤ìŒ ë‹¨ê³„ë¡œ
          <span>â†’</span>
        </button>
      </div>

    </div>
  </main>

  <script src="app.js"></script>
  <style>
    /* Select Page Specific Styles */
    .select-section {
      margin-bottom: 40px;
    }

    .select-section-title {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 1.125rem;
      margin-bottom: 20px;
    }

    .select-section-icon {
      font-size: 1.25rem;
    }

    .stage-grid {
      grid-template-columns: repeat(4, 1fr);
    }

    .genre-grid {
      grid-template-columns: repeat(5, 1fr);
    }

    /* Cost Summary */
    .cost-summary {
      background: var(--bg-secondary);
      border: var(--border-subtle);
      border-radius: var(--radius-lg);
      padding: 20px;
    }

    .cost-summary-inner {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding-bottom: 16px;
      border-bottom: var(--border-subtle);
      margin-bottom: 16px;
    }

    .cost-item {
      display: flex;
      flex-direction: column;
      gap: 4px;
    }

    .cost-label {
      font-size: 0.85rem;
      color: var(--text-tertiary);
    }

    .cost-value {
      font-size: 1.125rem;
      font-weight: 600;
    }

    .cost-total .cost-value {
      font-size: 1.5rem;
      color: var(--accent-primary);
    }

    .cost-note {
      font-size: 0.85rem;
      color: var(--text-tertiary);
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .cost-note span {
      color: var(--success);
    }

    .cost-note.warning {
      color: var(--warning);
    }

    .cost-note.warning span {
      color: var(--warning);
    }

    .actions-row {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    @media (max-width: 768px) {
      .mode-cards {
        grid-template-columns: 1fr !important;
      }

      .stage-grid {
        grid-template-columns: repeat(2, 1fr);
      }

      .genre-grid {
        grid-template-columns: repeat(2, 1fr);
      }

      .cost-summary-inner {
        flex-direction: column;
        gap: 16px;
        text-align: center;
      }

      .actions-row {
        flex-direction: column;
        gap: 16px;
      }

      .actions-row .btn {
        width: 100%;
      }
    }
  </style>
  <script>
    // Selection functionality
    const modeCards = document.querySelectorAll('.mode-card');
    const stageCards = document.querySelectorAll('[name="stage"]');
    const genreCards = document.querySelectorAll('[name="genre"]');
    const nextBtn = document.getElementById('nextBtn');

    // Credit balance (simulated)
    let creditBalance = 0;

    // Slider values
    const sliders = {
      realism: document.getElementById('realism'),
      intensity: document.getElementById('intensity'),
      pace: document.getElementById('pace')
    };

    const sliderValues = {
      realism: document.getElementById('realismValue'),
      intensity: document.getElementById('intensityValue'),
      pace: document.getElementById('paceValue')
    };

    // Update slider displays
    Object.keys(sliders).forEach(key => {
      sliders[key].addEventListener('input', (e) => {
        sliderValues[key].textContent = e.target.value + '%';
      });
    });

    // Mode selection
    modeCards.forEach(card => {
      card.addEventListener('click', () => {
        modeCards.forEach(c => c.classList.remove('active'));
        card.classList.add('active');
        updateCostSummary();
      });
    });

    // Stage selection
    document.querySelectorAll('.selection-card').forEach(card => {
      card.addEventListener('click', () => {
        const name = card.querySelector('input').name;
        document.querySelectorAll(`[name="${name}"]`).forEach(input => {
          input.closest('.selection-card').classList.remove('active');
        });
        card.classList.add('active');
      });
    });

    function updateCostSummary() {
      const selectedMode = document.querySelector('[name="mode"]:checked').value;
      const packElement = document.getElementById('selectedPack');
      const costElement = document.getElementById('totalCost');
      const noteElement = document.getElementById('costNote');

      let packName, cost;

      switch(selectedMode) {
        case 'quick':
          packName = 'Quick Pack (ë¬´ë£Œ)';
          cost = 0;
          noteElement.innerHTML = '<span>âœ“</span> ë¬´ë£Œ Quick Packì€ í•˜ë£¨ 1íŒ© ì œí•œì´ ìˆì–´ìš”';
          noteElement.className = 'cost-note';
          break;
        case 'story':
          packName = 'Story Pack';
          cost = 2;
          if (creditBalance < cost) {
            noteElement.innerHTML = '<span>!</span> í¬ë ˆë”§ì´ ë¶€ì¡±í•´ìš”. ì¶©ì „ì´ í•„ìš”í•©ë‹ˆë‹¤.';
            noteElement.className = 'cost-note warning';
          } else {
            noteElement.innerHTML = '<span>âœ“</span> í¬ë ˆë”§ì—ì„œ ì°¨ê°ë©ë‹ˆë‹¤';
            noteElement.className = 'cost-note';
          }
          break;
        case 'trailer':
          packName = 'Trailer';
          cost = 5;
          if (creditBalance < cost) {
            noteElement.innerHTML = '<span>!</span> í¬ë ˆë”§ì´ ë¶€ì¡±í•´ìš”. ì¶©ì „ì´ í•„ìš”í•©ë‹ˆë‹¤.';
            noteElement.className = 'cost-note warning';
          } else {
            noteElement.innerHTML = '<span>âœ“</span> í¬ë ˆë”§ì—ì„œ ì°¨ê°ë©ë‹ˆë‹¤';
            noteElement.className = 'cost-note';
          }
          break;
      }

      packElement.textContent = packName;
      costElement.textContent = cost;
    }

    // Initialize
    updateCostSummary();

    // Next button
    nextBtn.addEventListener('click', () => {
      const selectedMode = document.querySelector('[name="mode"]:checked').value;
      const selectedStage = document.querySelector('[name="stage"]:checked').value;
      const selectedGenre = document.querySelector('[name="genre"]:checked').value;

      // Store selections
      sessionStorage.setItem('selectedMode', selectedMode);
      sessionStorage.setItem('selectedStage', selectedStage);
      sessionStorage.setItem('selectedGenre', selectedGenre);
      sessionStorage.setItem('sliders', JSON.stringify({
        realism: sliders.realism.value,
        intensity: sliders.intensity.value,
        pace: sliders.pace.value
      }));

      // Navigate to rewrite page
      window.location.href = 'rewrite.html';
    });
  </script>
</body>
</html>

